\chapter{Literature review}
\label{ch:literature-review}
In this chapter, we give an overview on the literature of locomotion for
humanoid robots and motion control for
steerable wheeled mobile robots (SWMRs). In the first part of 
the chapter, we introduce the problems of 
gait generation, footstep planning, sensor-based locomotion, and footstep and 
timing adaptation for humanoids robots. In the second part of the chapter,
we study motion control algorithms for SWMRs.

\section{Humanoid robots}
\subsection{Gait generation}
In order for humanoid robots to successfully complete their tasks, they need to 
maintain balance at all times. The problem of gait generation consists in the
generation of trajectories that keep the robot balanced, and the realization of 
such trajectories on the humanoid itself. The most common type of gaits studied for 
humanoids are \textit{walking} and \textit{running}.
In this section, we briefly review the main 
scientific contributions to the problem of walking gait generation in 
planar and 3D environments.

Humanoid walking can be \textit{static} or \textit{dynamic}. In case of planar
contacts, in static walking, the 
projection of the \textit{Center of Mass} (CoM) lies within the
\textit{support polygon},
defined as the convex hull of the contact points. In dynamic walking, 
it is the \textit{Zero-tilting Moment Point} (ZMP) \cite{Vukobratovic1972ZMP},
defined as the point 
where the moment of the contact wrench aligns with the normal of the contact 
surface \cite{SardainBessonnet2004}, which lies within the support polygon.
In case of non-coplanar contacts,
an algorithm for testing static equilibrium has been developed by Bretl in
\cite{Bretl2008TestingStaticEquilibriumforLeggedRobots}, while for dynamic
walking, a more general
condition on the ZMP has been presented by Caron in
\cite{Caron2017TRO}.

Because of the complex nonlinear dynamics of the humanoid, the problem of gait 
generation is typically decomposed into two sub-problems: trajectory generation and 
whole-body trajectory tracking. The problem of trajectory generation is 
usually solved considering a simplified dynamics, such as the \textit{Centroidal
Dynamics} (the dynamics of the humanoid projected at its CoM)
\cite{Orin2013CentroidalDynamics} or the \textit{Linear Inverted Pendulum} (LIP)
\cite{Kajita1991LIP}. The problem of trajectory tracking is solved with a 
kinematic controller, typically implemented as a
stack-of-tasks \cite{Escande2014IJRR}, and solved through a hierarchy of 
Quadratic Programming (QP) problems.

The LIP relates the CoM to the ZMP through a linear dynamics, proving a 
theoretical tool that can be used for the generation of walking gait in 
real-time \cite{Sugihara2002ICRA}. More advanced techniques for the control 
of the ZMP can be found in \cite{Kajita2003BipedWalkingPatternGeneration}, which
presents a walking pattern generation scheme using preview control, or in
\cite{Wieber2006LMPCWalking}, which develops a Linear Model Predictive Control
scheme. In particular, the latter adopted a Cart Table model
\cite{Kajita2016IntroductiontoHumanoidRobotics}, minimizing the CoM jerk while enforcing the dynamic balance
condition (ZMP within the support polygon) as a constraint. This technique
was further developed taking into account automatic footstep placement
\cite{Herdt2010OnlineWalkingMotionGenerationWithAFSP}, stability \cite{Sherikov2014Humanoids}
and recursive feasibility \cite{Ciocca2017Humanoids} of the MPC.

More recently, Scianca introduced
\textit{Intrinsically-Stable MPC} (IS-MPC) \cite{Scianca2016ISMPC, Scianca2020TRO},
a gait generation scheme which 
uses the LIP as prediction model, enforcing dynamic balance
by constraining the ZMP within the support polygon,
and using a stability constraint to ensure that the CoM does not diverge 
with respect to the ZMP \cite{Lanari2015Inversionbasedgaitgeneration}. IS-MPC,
which will be used for gait generation throughout this manuscript,
has been extended to uneven ground in \cite{Zamparelli2018SYROCO} by
considering a dynamic balance condition in 3D
\cite{Caron2017DynamicWalkingOverRoughTerrains, Sugihara2021ICRA}. Because
IS-MPC is formulated as a QP problem, it can be efficiently solved by a 
QP solver and deployed on a real robot.

\subsection{Footstep planning}
Gait generation schemes such as IS-MPC rely on \textit{footstep plans}, which specify 
how the walking should be performed at high level (where to place each footstep,
the trajectory of the swing foot, and the duration of single and double support
phases). Footstep plans can either be manually defined, or computed by a 
footstep planner. In this section we review the literature on footstep planners,
diving them in two categories. The first one will cover footstep planners 
employing continuous techniques (optimization-based),
while the second one will cover footstep planners employing discrete techniques
(deterministic and randomized approaches).

Planners based on continuous techniques compute sequences of footsteps via
optimization, treating their poses as continuous decision variables. 
Several methods in this category (e.g., \cite{Ibanez2014IROS, Hong2011TSMC,
Kasadei2021SNAS}) rely on the implicit assumption that the ground is completely
flat and, therefore, are not tailored for motion generation in 3D environments.
Explicit account of 3D environment is instead made in
\cite{Deits2014FootstepPlanningMIQCQP}: the ground surface is decomposed as a
set of convex regions (with the aid of a manual initialization phase) and
footsteps are placed by solving a mixed-integer quadratic problem (MIQP). 
A more recent work \cite{Song2021RAL} casts the MIQP into a $l_1$-minimization
problem: to reduce the computational complexity, a suboptimal solution is
found by considering only those regions that intersect with the reachable
workspace of the feet along a pre-planned trajectory for the floating base
of the robot.

Planners based on discrete techniques find a solution by searching among
particular sequences of footsteps. These sequences are generated by
concatenation of \emph{primitives}. A primitive is a displacement between two
consecutive footsteps, selected among a finite number of possible displacements
from a catalogue.

To search among all possible sequences, one possibility is to use a
deterministic approach (search-based), which is typically represented by a variant of A* \cite{Hart1968Astar}.
Chestnutt implemented the A* footstep planner in \cite{Chestnutt2005FootstepPlanningASIMO}
for the ASIMO humanoid robot \cite{Sakagami2002ASIMO}. The work has been later 
extended to adaptively extend the catalogue of primitives
\cite{Chestnutt2007AdaptiveActionModel} depending on the terrain.
Hornung implemented Weighted A* \cite{Pearl1984Heuristics},
ARA* \cite{Likhachev2003ARAstar} and R* \cite{Likhachev2008Rstar}
footstep planners with anytime 
replanning strategies in \cite{Hornung2012AnytimeSearchbasedFootstepPlanning}.
Replanning strategies using D* Lite \cite{Koenig2002Dlite} and AD*
\cite{Likhachev2005ADstar} have been respectively implemented in
\cite{Gairmort2011HumanoidNavigationwithDynamicFootstepPlans} and 
\cite{Hornung2012AdaptiveLevelofDetailPlanning}.
Although search-based algorithms have been applied to 3D environments
\cite{Griffin2019ICRA}, this kind of approach suffers from two main issues: the
performance strongly depends on the chosen heuristic, which is often difficult
to design, and node expansion can be very expensive when using a large set of
primitives, because it requires the evaluation of all possible successors.

An alternative option is to use a randomized approach (sampling-based) such as
a variants of the Rapidly-exploring Random Tree (RRT) algorithm \cite{LaValle1998RRT}. 
This has been first developed in \cite{Zeyang2009RRTFootstepPlanning,
Zeyang2011RRTFootstepPlanning} in 2D environments, and later applied in simple
3D environments \cite{Perrin2012TRO, Liu2012IROS}, showing
good performance both in planning and replanning for dynamic environments.
Recently, Ferrari \cite{Ferrari2019ECC} presented a RRT footstep planner 
for humanoid navigation in uneven terrain, which is integrated with IS-MPC.
Clearly the disadvantage of RRT over a deterministic approach is that it does
not account, at least in its basic form, for the quality of the footstep plan.

\subsection{Sensor-based locomotion}
So far, it was assumed that a complete knowledge of the environment is available
from the start, or that, in case of dynamic environment, changes to the latter
are readily communicated to the planner. However, this is not often the case in
practical situations. In fact, the environment could be unknown, either
partially or completely, and it must be reconstructed online with the aid of
on-board sensors.

Many existing methods exploit information acquired through on-board sensors to
identify planar surfaces that define safe regions where the robot can step onto
\cite{Gutmann2008EnvironmentMapGeneration, Biswas2012PlanarPolygonExtraction,
Deits2015ComputingLargeConvexRegions, Bertrand2020DetectingUsablePlanarRegions,
Mishra2021GPUAcceleratedRapidPlanarRegionExtraction}.
Such environment representation was used in combination with different kinds of
footstep planners, for example, based on simple geometric criteria
\cite{Okada2005ICRA}, A* \cite{Chestnutt2009IROS, Calvert2022BipedalWalkingoverRapidRegions}
and MIQP \cite{Fallon2015Humanoids}.   
Other methods maintain a more complete representation of the environment by
employing an elevation map \cite{Burgard2016WorldModeling}.
Examples can be found in \cite{Maier2013IROS, Stumpf2014Humanoids},
where ARA*-based approaches are used to plan footsteps on uneven ground; the
use of on-line information is aimed at improving the plan during the execution,
and not for replanning/extension using newly acquired information.
To achieve more flexibility in the on-line capabilities,
\cite{Karkowski2016Humanoids} proposed to use adaptive sets of possible foot
displacements in an A*-based planner, which proved to be effective in relatively
simple scenarios. Alternatively, \cite{Yamamoto2021AdvancedRobotics} proposed a
two-stage method that first finds a collision-free path for a bounding occupancy
volume and then computes a compatible sequence of footsteps, which is a
suitable technique as long as it is not necessary to traverse narrow passages.

\subsection{Footstep and timing adaptation}
The techniques discussed so far assume that the robot is not subject to strong 
disturbances. Nevertheless, in order for the humanoids to be deployed in
real-world scenarios, the presence of possible external forces must be taken 
into account. In principle, when subject
to external perturbations, the humanoid should be able to adapt the footstep plan
by changing the position and the timing of the footsteps.

Model Predictive Control schemes, in their basic form, allow to
perform real-time footstep position adaptation \cite{Herdt2010IROS} and obtain
reactive stepping so to reject pushes and impacts. However, in order to be
able to formulate the optimization problem as a Quadratic Program (QP),
constraints should be kept linear. For this reason, most schemes only adapt
footstep positions, leaving out footstep orientation and step timing, and not
considering the possibility to place footsteps on a different contact surface,
which is crucial when walking on uneven terrains.

Several efforts to improve this basic paradigm have been made. To include
automatic step timing adaptation, one could make the MPC nonlinear
\cite{Maximo2020MIQPAutomaticWalking,Bohorquez2017AdaptiveStepDuration,
Caron2017Whentomakeastep,Aurelien2014IROS}, denying real-time implementation or
requiring significant compromise in the control rate. A linear formulation is
obtainable by considering only the duration of the first footstep
\cite{Smaldone2021FeasibilityDrivenSTA,Khadiv2020StepTimingAdaptation}.
As for footstep orientation, this is also often ignored or planned independently
of the dynamics \cite{Herdt2010IROS}. To couple rotation decision with the
dynamics, some schemes employ non-convex optimization through nonlinear
\cite{Naveau2017RAL,Bohorquez2018AdaptiveStepRotation} or Mixed-Integer
Programming (MIP) \cite{Maximo2020MIQPAutomaticWalking}.
MIP can also be used to alternatively select between multiple convex regions
in which to place the footsteps, which would otherwise constitute a
non-convex constraint \cite{Aceituno2018RAL,Deits2014FootstepPlanningMIQCQP}.

\section{Motion control for steerable WMRs}
As already discussed in the previous chapter, mobile robots equipped with
multiple steerable wheels
have greater maneuverability than other wheeled mobile robots, since they are
omnidirectional \cite{RobuffoGiordano2009ICRA}. Besides, they can transport
higher payloads than omnidirectional robots equipped with mecanum wheels
\cite{Dickerson1991ControlOminidirectionalRobotwithMecaumWheels} or
with omni wheels \cite{Blumrich1974OmnidirectionalWheel}.
Nevertheless, modeling and controlling these robots is not
trivial due to the presence of kinematic singularities \cite{Sorour2017RAL},
which need to be handled with particular care, in order to avoid negatively
affecting their functionalities.

While many different approaches for modeling and control of steerable wheeled
mobile robots (SWMRs) exist in literature, none of them fully exploits their
potentialities. The main property of this kind of robots, indeed, is that their
instanteneous center of rotation (ICR) can be located anywhere on the plane
\cite{Campion1996TR}. This naturally leads to a parametrization based on
two-dimensional cartesian \cite{Sorour2016ICRA} or polar coordinates
\cite{Connette2008CDC}, which, however, leads to singularities that can make
it difficult to develop a control scheme. Sorour et al. \cite{Sorour2017RAL}
developed an ICR-based controller which handles singularities of the steering
axes. The work is further improved in \cite{Sorour2019RAS}, where the
singularity of the ICR at infinity is taken into account through a
complementary route strategy. While these approaches consider all singularities
of their parametrization, the velocity and acceleration bounds are only
considered at the level of the ICR, often resulting in undesired motions with
high velocity and high acceleration of the steerable wheels.
A singularity-free representation is presented in \cite{Ferland2010IROS}
and \cite{Clavien2018EstimationoftheICR}, and used in
of~\cite{Clavien2018ICRMotionControl}, where a free-of-singularity motion
controller is developed. Here, time scaling is performed to satisfy velocity
and acceleration constraints on the wheels, resulting however in
non-optimal motion execution.
