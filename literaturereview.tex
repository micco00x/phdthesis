\chapter{Literature review}
Brief intro about literature here.

\section{Gait generation}

Once a footstep sequence has been planned, a whole-body motion must be generated in order to let the robot move by stepping over said sequence without falling. On flat ground, it is common to enforce dynamic balance by requiring that the Zero Moment Point (ZMP, the point with respect to which horizontal components of the momentum of contact forces are zero) is always contained inside the convex hull of contact surfaces, i.e., the \emph{support polygon}.
The ZMP cannot be controlled directly, but its dynamics can be related to the position and acceleration of the CoM. The traditional approach is to assume a constant CoM height and a negligible derivative of the angular momentum around the CoM, which leads to a Linear Inverted Pendulum (LIP)~\cite{Kajita2003BipedWalkingPatternGeneration} model. The LIP has seen widespread use, also thanks to the fact that it allows to perform Model Predictive Control (MPC) using linear-quadratic optimization techniques, enforcing balance by means of constraints on the ZMP. However the constant CoM height assumption limits its ability to be employed for motion on uneven ground.

Traditionally, conditions on the ZMP implicitly assume that the latter is located on the ground, making these conditions obviously unsuitable to the 3D case where there is no univocally defined ground surface. In this work, we adopt an extension~\cite{Sugihara2021ICRA} of the basic criterion, in which the ZMP is instead a point in 3D space. According to this modified criterion, the 3D ZMP must belong to a pyramidal region whose extent is defined by the position of the Center of Mass (CoM) and the contact surfaces.

By letting the CoM height be a variable quantity, the CoM-ZMP relation takes the form of a Variable Height Inverted Pendulum (VH-IP) \cite{Caron2019CapturabilitybasedPatternGeneration}, where the stiffness of the pendulum itself is a control input. This model is nonlinear, which is usually a problem when trying to perform fast MPC, unless further approximations are introduced. However, it is possible to restrict the allowed trajectories of the CoM in such a way that the dynamics are linear and 3D motions are allowed \cite{Zamparelli2018SYROCO, Ferrari2019ECC}. To do this, the pendulum stiffness is picked a priori, and the ZMP/CoM trajectories are generated in such a way to satisfy a linear relation.

A common problem in the field of humanoid gait generation is given by the fact that humanoid dynamics are unstable. This is seen in the LIP by the presence of an unstable mode, and signifies that even if one were to determine a gait such that the ZMP trajectory is always within the appropriate bounds, this might still not be enough, as the associated CoM trajectory might be divergent, rendering the resulting motion infeasible in practice. This issue is crucial and must be accounted for when designing the gait generation module, by providing appropriate guarantees against the divergence of the generated trajectories.

\section{Footstep planning}

Footstep planners can be subdivided in two broad categories based on whether they employ continuous or discrete techniques.

Planners based on continuous techniques compute sequences of footsteps via optimization, treating their poses as continuous decision variables. 
Several methods in this category (e.g., \cite{Ibanez2014IROS, Hong2011TSMC, Kasadei2021SNAS}) rely on the implicit assumption that the ground is completely flat and, therefore, are not tailored for motion generation in 3D environments.
Explicit account of 3D environment is instead made in \cite{Deits2014FootstepPlanningMIQCQP}: the ground surface is decomposed as a set of convex regions (with the aid of a manual initialization phase) and footsteps are placed by solving a mixed-integer quadratic problem (MIQP). 
%To efficiently compute such decomposition, the position of each region is seed by a user, at the expense of full robot autonomy.
A more recent work \cite{Song2021RAL} casts the MIQP into a $l_1$-minimization problem: 
to reduce the computational complexity, a suboptimal solution is found by considering only those regions that intersect with the reachable workspace of the feet along a pre-planned trajectory for the floating base of the robot.

Planners based on discrete techniques find a solution by searching among particular sequences of footsteps. These sequences are generated by concatenation of \emph{primitives}. A primitive is a displacement between two consecutive footsteps, selected among a finite number of possible displacements from a catalogue.

To search among all possible sequences, one possibility is to use a deterministic approach, which is typically represented by a variant of A*. Although this is possible and has been applied to 3D environments \cite{Griffin2019ICRA}, the approach suffers from two main issues: the performance strongly depends on the chosen heuristic, which is often difficult to design, and node expansion can be very expensive when using a large set of primitives, because it requires the evaluation of all possible successors.

An alternative option is to use a randomized approach such as a variant of the Rapidly-exploring Random Tree (RRT) algorithm. 
This has been applied in simple 3D environments \cite{Liu2012IROS}, showing good performance both in planning and replanning for dynamic environments. Clearly the disadvantage of RRT over a deterministic approach is that it does not account, at least in its basic form, for the quality of the footstep plan.

So far, it was assumed that a complete knowledge of the environment is available from the start, or that, in case of dynamic environment, changes to the latter are readily communicated to the planner. However, this is not often the case in practical situations. In fact, the environment could be unknown, either partially or completely, and it must be reconstructed online with the aid of on-board sensors.

Many existing methods exploit information acquired through on-board sensors to identify planar surfaces that define safe regions where the robot can step onto.
Such environment representation was used in combination with different kinds of footstep planners, for example, based on simple geometric criteria \cite{Okada2005ICRA}, A* \cite{Chestnutt2009IROS} and MIQP \cite{Fallon2015Humanoids}.   
%Typically, planar surface detection introduces a computational overhead that in complex environment might affect the real time performance of the overall motion generation pipeline.
Other methods maintain a more complete representation of the environment by employing an elevation map.
Examples can be found in \cite{Maier2013IROS, Stumpf2014Humanoids}, where ARA*-based approaches are used to plan footsteps on uneven ground; the use of on-line information is aimed at improving the plan during the execution, and not for replanning/extension using newly acquired information.
%rather than modifying and/or extending it according to newly acquired information in case of partially unknown environment where faster replanning capabilities are required.
To achieve more flexibility in the on-line capabilities, \cite{Karkowski2016Humanoids} proposed to use adaptive sets of possible foot displacements in an A*-based planner, which proved to be effective in relatively simple scenarios. Alternatively, \cite{Yamamoto2021AdvancedRobotics} proposed a two-stage method that first finds a collision-free path for a bounding occupancy volume and then computes a compatible sequence of footsteps, which is a suitable technique as long as it is not necessary to traverse narrow passages.


\section{Push recovery for humanoids}
\textbf{From Humanoids 2023:}

Humanoid robot locomotion is a complex task that involves multiple concurrent activities. It is usually tackled by breaking it down into several subproblems and solving each of them more or less independently. The first component is in general a footstep planner, which determines a sequence of footstep, e.g., leading the robot to some desired location. This sequence of footsteps must be kinematically realizable at least in terms of step lengths. The humanoid dynamics are usually accounted for in a second stage, typically based on Model Predictive Control (MPC), using a simplified robot model which is used to generate Center of Mass (CoM) trajectories. MPC, in its basic form, allows to perform real-time footstep position adaptation \cite{Herdt2010IROS} and obtain reactive stepping so to  reject pushes and impacts. However, in order to be able to formulate the optimization problem as a Quadratic Program (QP), constraints should be kept linear. For this reason, most schemes only adapt footstep positions, leaving out footstep orientation and step timing.

Several efforts to improve this basic paradigm have been made. To include automatic step timing adaptation, one could make the MPC nonlinear \cite{Maximo2020MIQPAutomaticWalking,Bohorquez2017AdaptiveStepDuration,Caron2017Whentomakeastep,Aurelien2014IROS}, denying real-time implementation or requiring significant compromise in the control rate. A linear formulation is obtainable by considering only the duration of the first footstep \cite{Smaldone2021FeasibilityDrivenSTA,Khadiv2020StepTimingAdaptation}. As for footstep orientation, this is also often ignored or planned independently of the dynamics \cite{Herdt2010IROS}. To couple rotation decision with the dynamics, some schemes employ non-convex optimization through nonlinear \cite{Naveau2017RAL,Bohorquez2018AdaptiveStepRotation} or Mixed-Integer Programming (MIP) \cite{Maximo2020MIQPAutomaticWalking}. MIP can also be used to alternatively select between multiple convex regions in which to place the footsteps, which would otherwise constitute a non-convex constraint \cite{Aceituno2018RAL,Deits2014FootstepPlanningMIQCQP}.


\section{Motion control for steerable wheeled mobile robots}
Todo.
