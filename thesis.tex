% !TeX encoding = UTF-8
% !TeX program = pdflatex
% !TeX spellcheck = en_US

\documentclass[oneside]{sapthesis}

\usepackage[procnumbered, ruled, linesnumbered]{algorithm2e}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{balance}
\usepackage{bm}
%\usepackage[usenames,dvipsnames]{color}
%\usepackage{etoolbox}
%\usepackage{float}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{mathtools}
\usepackage{microtype}
\usepackage{multirow}
\usepackage[normalem]{ulem}

\usepackage{cleveref}

\hypersetup{pdftitle={Generation and Control of Motion for 3D Humanoids and Steerable WMRs},pdfauthor={Michele Cipriano}}

% Commands for the titlepage
\title{Generation and Control of Motion for 3D Humanoids and Steerable WMRs}
\author{Michele Cipriano}
\IDnumber{1764645}
\course{Dottorato di Ricerca in Automatica, Bioingegneria e Ricerca Operativa - XXXVI Ciclo}
\courseorganizer{Sapienza University of Rome}
\AcademicYear{2023/2024}
\copyyear{2024}
\advisor{Prof. Giuseppe Oriolo}
%\advisor{Dr. Nome Cognome}
%\coadvisor{Dr. Nome Cognome}
\authoremail{cipriano@diag.uniroma1.it}

%\examdate{TBD May 2024}
%\examiner{Prof. TBD}
%\examiner{Prof. TBD}
%\examiner{Prof. TBD}
\versiondate{\today}

\include{mathsym}

\newenvironment{braced}
 {\par\smallskip\hbox to\columnwidth\bgroup
  \hss$\left\{\begin{minipage}{\columnwidth}}
 {\end{minipage}\right.$\hss\egroup\smallskip}

\newtheorem{proposition}{Proposition}
\newtheorem{remark}{Remark}
\newtheorem{assumption}{Assumption}

\def\RealSet{{I\!\!R}}
\def\bull{\vrule height .9ex width .8ex depth -.1ex} % square bullet

\makeatletter
\newcommand{\removelatexerror}{\let\@latex@error\@gobble}
\makeatother
\let\oldnl\nl% Store \nl in \oldnl
\newcommand{\nonl}{\renewcommand{\nl}{\let\nl\oldnl}}% Remove line number for one line

\begin{document}

\frontmatter

\maketitle

%\begin{acknowledgments}
%Acknowedgments.
%\end{acknowledgments}

\begin{abstract}
Mobile robots have the potentiality to accomplish complex tasks because of 
their capability of adapting to different scenarios. This is particularly 
true for humanoid robots, which can navigate unstructured environments thanks 
to their anthropomorphic structure, and steerable wheeled mobile robots (WMRs),
which present an increased mobility with respect to their non-omnidirectional 
counterpart.

In this thesis, we focus on the problem of generation and control of motion 
for humanoid robots in 3D, and steerable WMRs. In particular, when developing 
a framework for locomotion, one should take into account how the 
robot perceives its surroundings, how to move, and how to actually perform 
the motion. These problems, which lie under the categories of perception,
motion planning, and control, must be solved efficiently and simultaneously.

In the first part of this manuscript, we study the problem of motion generation 
for humanoid robots in a world of stairs, a particular kind of uneven terrain 
where all contact surfaces are piecewise-horizontal. We present a framework 
composed of a RRT*-based footstep planner, a gait generation scheme based 
on Model Predictive Control (MPC), a mapping module, and a localization module.
The footstep planner, which plans a feasible sequence of footsteps using an
elevation map, exploits the time the robot takes to complete a step to
replan the footsteps, improving the plan and taking 
into account changes in the map, which may occur due to the presence of 
dynamic obstacles. In order to improve the reliability of locomotion,
external disturbances and pushes must be considered. To address these scenarios,
we present 
Feasibility-Aware Plan Adaptation (FAPA), a module for adapting 
footstep plans (positions, orientations, and timings) in such a way 
to guarantee the feasibility of the subsequence MPC stage. FAPA allows to 
sustain external pushes on stairs, allowing the humanoid to safely complete 
locomotion tasks.

In the second part of this manuscript, we study the problem of motion control
for steerable WMRs (SWMRs). The development of control schemes for this kind of platform 
is not trivial, due to the presence of kinematic singularities, which must 
be taken into account in order to properly make the robot move. We propose 
a framework for trajectory tracking of SWMRs using Nonlinear MPC (NMPC) based on the 
real-time iteration scheme. The NMPC generates feasible motions for the robot,
taking into account both kinematic singularities of the mobile base, and 
bounds on driving and steering velocities. Our NMPC works alongside a finite
state machine and an auxiliary trajectory generation scheme
based on dynamic feedback linearization, which makes our
framework capable of tracking trajectories without ever
encountering singularities.

The proposed methods are validated in simulation using CoppeliaSim,
and in experimental settings using the Neobotix MPO-700 platform.

\end{abstract}

\tableofcontents

\listoffigures

\mainmatter

\input{introduction}
\input{humanoidsandsteerablewmrs}
\input{literaturereview}
\part{Motion generation for humanoid robots}
\input{humanoidlocomotiondynamics}
\input{gaitgenerationviaismpc}
\input{humanoidmotiongenerationinaworldofstairs}
\input{feasibilityawareplanadaptation}
\part{Motion control for steerable WMRs}
\input{realtimenmpc}
\input{nmpcforsteerablewheeledmobilerobots}
\input{conclusions}

%\appendix

\backmatter
% bibliography
\cleardoublepage
\phantomsection
%\bibliographystyle{sapthesis} % BibTeX style
\bibliographystyle{unsrt}
\bibliography{bibliography} % BibTeX database without .bib extension

\end{document}
